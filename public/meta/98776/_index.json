{"versions":[{"hash":"5cae1f2722981d2a931c6be0bdc8c2efee52fded","date":1646015026,"message":"补充许可声明和搬运说明","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"6"},{"hash":"e26575d3411c17ed36d96a93892590f28535f921","date":1645448291,"message":"适配新方法，修复 bug","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"6"},{"hash":"d1241db0e99a907e23d01f50befd2086bbf1a923","date":1645368206,"message":"#98776 #98777 #98778 切换到 bextButton","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"6"},{"hash":"c6dcb5e5b5610514c9d3a0c2e7d2ae27ef3f3674","date":1642918199,"message":"bextBar 更新 1. 折叠开关增加 div 替代箭头，增加拖动灵敏度 2. 按钮限制最多四个字，溢出用 ...    受此影响的插件更新，暂时去掉介绍图片。 3. 补充语法提示","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"5"},{"hash":"6d9518937fcd3c5c480722fd12ff1ad4ff92668a","date":1642434818,"message":"chore: 移除 Meta::build","author_name":"ikkz","author_email":"miles_yang@foxmail.com","version":"5"},{"hash":"8e819cfe9d9fcf704b0f4550c44e6769dd93dcd2","date":1642259646,"message":"ui 和插件更新 ui.js : bextBar : 贴靠 和 点击按钮收起 98778 : 适配 bext/config / 加入 toast 提示 / 更新 lib 和介绍 98776 / 98777 : 更新 lib","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"5"},{"hash":"0f35a8b9a25b2f43ec9d95d44644652c172d095a","date":1641138620,"message":"98776: 更改插件名称，增加说明，引用 runAt","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"5"},{"hash":"15417b7892dea47c3e8cbd5ef76185f0751d210e","date":1640431753,"message":"插件更新 使用 window load 事件延时运行以便适配 Via 修复介绍，增加图片","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"4"},{"hash":"883d074d8349286c74eb054aff97e576817c9f49","date":1639924709,"message":"更新 lib/ui.js 和 bextBar 示例脚本 注意，新加入了 98777 改名为 纪念模式","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"3"},{"hash":"dd23a5f79da85f430ed201be78aa20c273377f24","date":1639068302,"message":"到顶到底","author_name":"forc","author_email":"63189191+forcux@users.noreply.github.com","version":"2"}],"meta":{"type":"javascript","name":"到顶到底 bextButton 版","version":"6","tags":["工具脚本"],"synopsis":"bextButton 版本的 到顶到底 实现","detail":"<p class=\"ql-align-center\">bextButton 示例脚本，增加 <span style=\"color: rgb(255, 255, 255); background-color: rgb(102, 185, 102);\"> ◆ </span> 按钮。</p><p class=\"ql-align-center\">上下拖拽按钮即可到顶到底。</p><p class=\"ql-align-center\">由于可滚动元素完全按高度判断，</p><p class=\"ql-align-center\">所以可能会同时滚动很多元素。</p><p class=\"ql-align-center\"><br></p><p class=\"ql-align-center\">这个脚本运行需要 WebView 51+ 内核，</p><p class=\"ql-align-center\">平滑滚动需要 WebView 61+ 内核。</p><p class=\"ql-align-center\">且无法运行于 CSP 限制注入样式的页面。</p><p class=\"ql-align-center\"><br></p><p>这个脚本使用了 Bext 的函数库，</p><p>如需二次发布 ( 分享，搬运 等等 ) ，</p><p>需要在显著位置包含如下 MIT 许可文本:</p><pre spellcheck=\"false\" class=\"ql-syntax\">MIT License\nCopyright (c) 2022 ikkz\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n</pre><p class=\"ql-align-center\"><br></p>","extra":{"xMetaComment":"// @run-at document-idle"},"source":"import { runOnce } from '@bext/util';\nimport { bextButton } from '@bext/ui';\n\nrunOnce(() => {\n    let scroller = (top, btn) => {\n        document.querySelectorAll(':root,body,body *:not(aside,hr,br,wbr,button,input,progress,meter,select,option,optgroup,dialog,map,area)').forEach(bo => {\n            if (window.innerHeight < bo.scrollHeight) {\n                let toplen = top ? 0 : bo.scrollHeight;\n                if (!bo.scrollTo) {\n                    bo.scrollTop = toplen;\n                } else {\n                    bo.scrollTo({ top: toplen, behavior: 'smooth' });\n                }\n            }\n        });\n        btn.text = top ? '▲' : '▼';\n    };\n    let button = bextButton({\n        text: '◆',\n        btnColor: 'darkturquoise',\n        textColor: 'white',\n        posY: 'middle',\n        drag: (btn, e) => {\n            scroller.call(this, (e.changedTouches[0].clientY > (window.innerHeight / 2)), btn);\n            setTimeout(btn => {\n                btn.text = '◆';\n                btn.posX = 'right';\n                btn.posY = 'middle';\n            }, 300, btn);\n        }\n    });\n    button.push();\n})"},"hash":"5cae1f2722981d2a931c6be0bdc8c2efee52fded"}
{"versions":[{"hash":"c6dcb5e5b5610514c9d3a0c2e7d2ae27ef3f3674","date":1642918199,"message":"bextBar 更新 1. 折叠开关增加 div 替代箭头，增加拖动灵敏度 2. 按钮限制最多四个字，溢出用 ...    受此影响的插件更新，暂时去掉介绍图片。 3. 补充语法提示","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"5"},{"hash":"6d9518937fcd3c5c480722fd12ff1ad4ff92668a","date":1642434818,"message":"chore: 移除 Meta::build","author_name":"ikkz","author_email":"miles_yang@foxmail.com","version":"5"},{"hash":"8e819cfe9d9fcf704b0f4550c44e6769dd93dcd2","date":1642259646,"message":"ui 和插件更新 ui.js : bextBar : 贴靠 和 点击按钮收起 98778 : 适配 bext/config / 加入 toast 提示 / 更新 lib 和介绍 98776 / 98777 : 更新 lib","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"5"},{"hash":"0f35a8b9a25b2f43ec9d95d44644652c172d095a","date":1641138620,"message":"98776: 更改插件名称，增加说明，引用 runAt","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"5"},{"hash":"15417b7892dea47c3e8cbd5ef76185f0751d210e","date":1640431753,"message":"插件更新 使用 window load 事件延时运行以便适配 Via 修复介绍，增加图片","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"4"},{"hash":"883d074d8349286c74eb054aff97e576817c9f49","date":1639924709,"message":"更新 lib/ui.js 和 bextBar 示例脚本 注意，新加入了 98777 改名为 纪念模式","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"3"},{"hash":"dd23a5f79da85f430ed201be78aa20c273377f24","date":1639068302,"message":"到顶到底","author_name":"forc","author_email":"63189191+forcux@users.noreply.github.com","version":"2"}],"meta":{"type":"javascript","name":"到顶到底 bextBar 版","version":"5","tags":["工具脚本"],"synopsis":"bextBar 版本的 到顶到底 实现","detail":"<p class=\"ql-align-center\">bextBar 示例脚本，增加 <span style=\"background-color: rgb(102, 185, 102); color: rgb(255, 255, 255);\"> ⬆ </span> <span style=\"background-color: rgb(102, 185, 102); color: rgb(255, 255, 255);\"> ⬇ </span> 两个按钮。</p><p class=\"ql-align-center\">由于可滚动元素完全按高度判断，</p><p class=\"ql-align-center\">所以可能会同时滚动很多元素。</p><p class=\"ql-align-center\"><br></p><p class=\"ql-align-center\">这个脚本运行需要 WebView 51+ 内核，</p><p class=\"ql-align-center\">平滑滚动需要 WebView 61+ 内核。</p><p class=\"ql-align-center\">且无法运行于 CSP 限制注入样式的页面。</p>","extra":{"xMetaComment":"// @run-at document-idle"},"source":"import { runOnce, runAt } from '@bext/util';\nimport { getBextBar } from '@bext/ui';\n\nrunOnce(() => {\n    runAt('document-idle', () => {\n        let bodys = document.querySelectorAll(':root,body,body *:not(aside,hr,br,wbr,button,input,progress,meter,select,option,optgroup,dialog,map,area)'),\n            bar = getBextBar(), scroller = top => {\n                bodys.forEach(bo => {\n                    let bost = getComputedStyle(bo);\n                    if (window.innerHeight < bo.scrollHeight) {\n                        let toplen = top ? 0 : parseInt(bost.height);\n                        if (!bo.scrollTo) {\n                            bo.scrollTop = toplen;\n                        } else {\n                            bo.scrollTo({ top: toplen, behavior: 'smooth' });\n                        }\n                    }\n                })\n            };\n        bar.add('scrollby_top', {\n            text: '⬆',\n            callback: scroller.bind(this, true),\n            textcolor: 'white',\n            backcolor: 'turquoise'\n        });\n        bar.add('scrollby_bottom', {\n            text: '⬇',\n            callback: scroller.bind(this, false),\n            textcolor: 'white',\n            backcolor: 'turquoise'\n        });\n    })\n})"},"hash":"c6dcb5e5b5610514c9d3a0c2e7d2ae27ef3f3674"}
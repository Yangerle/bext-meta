{"versions":[{"hash":"c6dcb5e5b5610514c9d3a0c2e7d2ae27ef3f3674","date":1642918199,"message":"bextBar 更新 1. 折叠开关增加 div 替代箭头，增加拖动灵敏度 2. 按钮限制最多四个字，溢出用 ...    受此影响的插件更新，暂时去掉介绍图片。 3. 补充语法提示","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"4"},{"hash":"6d9518937fcd3c5c480722fd12ff1ad4ff92668a","date":1642434818,"message":"chore: 移除 Meta::build","author_name":"ikkz","author_email":"miles_yang@foxmail.com","version":"3"},{"hash":"8e819cfe9d9fcf704b0f4550c44e6769dd93dcd2","date":1642259646,"message":"ui 和插件更新 ui.js : bextBar : 贴靠 和 点击按钮收起 98778 : 适配 bext/config / 加入 toast 提示 / 更新 lib 和介绍 98776 / 98777 : 更新 lib","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"3"},{"hash":"402e7a80caee44e8d4675550bb83227620b3b027","date":1641382270,"message":"98777: 修复错误使用 button","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"3"},{"hash":"3e12b187b852abc8009cbbbf00bb0bdd40907133","date":1641366162,"message":"98777: 引入 runAt，说明兼容情况","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"3"},{"hash":"15417b7892dea47c3e8cbd5ef76185f0751d210e","date":1640431753,"message":"插件更新 使用 window load 事件延时运行以便适配 Via 修复介绍，增加图片","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"3"},{"hash":"883d074d8349286c74eb054aff97e576817c9f49","date":1639924709,"message":"更新 lib/ui.js 和 bextBar 示例脚本 注意，新加入了 98777 改名为 纪念模式","author_name":"Lemon399","author_email":"1446744399@qq.com","version":"2"}],"meta":{"type":"javascript","name":"纪念模式","version":"4","tags":["美化脚本"],"synopsis":"bextBar 版本的 纪念模式，让网页变为黑白样式","detail":"<p class=\"ql-align-center\">bextBar 示例脚本，增加 <span style=\"background-color: rgb(102, 163, 224); color: rgb(255, 255, 255);\"> 纪念模式 </span> 按钮。</p><p class=\"ql-align-center\">使用 CSS <a rel=\"noopener noreferrer\" href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/filter\">filter</a> 滤镜实现。</p><p class=\"ql-align-center\"><br></p><p class=\"ql-align-center\">这个脚本运行需要 WebView 53+ 内核。</p>","extra":{"xMetaComment":"// @run-at document-idle"},"source":"import { runOnce, addStyle, runAt } from '@bext/util';\nimport { getBextBar } from '@bext/ui';\n\nrunOnce(() => {\n    let style = null;\n    runAt('document-idle', function () {\n        getBextBar().add('gray', {\n            text: '纪念模式',\n            textcolor: 'white',\n            backcolor: 'deepskyblue',\n            callback: (bar) => {\n                let button = bar.query('gray');\n                if (typeof button!=='object') return;\n                if (button.backcolor == 'deepskyblue') {\n                    style = addStyle(':root { filter : grayscale(1) !important; }');\n                    bar.change('gray', {\n                        backcolor: 'black'\n                    });\n                } else {\n                    style.remove();\n                    bar.change('gray', {\n                        backcolor: 'deepskyblue'\n                    });\n                }\n            },\n        })\n    })\n})"},"hash":"c6dcb5e5b5610514c9d3a0c2e7d2ae27ef3f3674"}
{"type":"javascript","name":"纪念模式","version":"4","tags":["美化脚本"],"synopsis":"bextButton 版本的 纪念模式，让网页变为黑白样式","detail":"<p class=\"ql-align-center\">bextButton 示例脚本，增加 <span style=\"color: rgb(255, 255, 255); background-color: rgb(102, 163, 224);\"> 纪念 </span> 按钮。</p><p class=\"ql-align-center\">使用 CSS <a href=\"https://developer.mozilla.org/zh-CN/docs/Web/CSS/filter\" rel=\"noopener noreferrer\">filter</a> 滤镜实现。</p><p class=\"ql-align-center\"><br></p><p class=\"ql-align-center\">这个脚本运行需要 WebView 53+ 内核。</p>","extra":{"xMetaComment":"// @run-at document-idle"},"source":"import { runOnce, addStyle, runAt } from '@bext/util';\nimport { bextButton } from '@bext/ui';\n\nrunOnce(() => {\n    let style = null;\n    runAt('document-idle', function () {\n        bextButton({\n            text: '纪念',\n            btnColor: 'deepskyblue',\n            textColor: 'white',\n            offsetY: '10vh',\n            btnStyle: 'font-size: 12px;',\n            click: btn => {\n                if (style) {\n                    style.remove();\n                    style = null;\n                    btn.btnColor = 'deepskyblue';\n                    btn.text = '纪念';\n                } else {\n                    style = addStyle(':root { filter : grayscale(1) !important; }');\n                    btn.btnColor = 'black';\n                    btn.text = '关闭';\n                }\n            },\n        });\n    })\n})"}
{"versions":[{"hash":"6d9518937fcd3c5c480722fd12ff1ad4ff92668a","date":1642434818,"message":"chore: 移除 Meta::build","author_name":"ikkz","author_email":"miles_yang@foxmail.com","version":"2"},{"hash":"7b9171e7d11e839258b4d4656ddc85cdcc331a98","date":1642243829,"message":"feat: 支持安装配置","author_name":"ikkz","author_email":"miles_yang@foxmail.com","version":"2"},{"hash":"c032b547482534e086a78d37a0e6b64b2b24f21b","date":1638806262,"message":"优化压缩模块","author_name":"LeiLeiLei","author_email":"miles_yang@foxmail.com","version":"2"},{"hash":"fd5c35f90040961e4d51163374aef74b925e872a","date":1638790920,"message":"回到顶部/底部","author_name":"ikkz","author_email":"miles_yang@foxmail.com","version":"1"}],"meta":{"type":"javascript","name":"回到顶部/底部","version":"2","tags":["工具脚本"],"source":"import { html as h, render, useEffect, useState, useRef } from '@bext/preact';\nimport { runOnce, addElement } from '@bext/util';\nimport throttle from 'https://cdn.jsdelivr.net/npm/underscore@1.13.1/modules/throttle.js?min';\nimport config from '@bext/config';\n\nrunOnce(() => {\n    const target = document.documentElement;\n    const offset = 400;\n\n    const Button = ({ down, onClick }) => {\n        return h`<div onClick=${onClick} style=${{ cursor: 'pointer' }}>\n            <svg style=${{ transform: down ? 'rotate(180deg)' : undefined }} fill=\"white\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"1298\" width=\"30px\" height=\"24px\"><path d=\"M868 545.5L536.1 163c-12.7-14.7-35.5-14.7-48.3 0L156 545.5c-4.5 5.2-0.8 13.2 6 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z\" p-id=\"1299\"></path></svg>\n        </div>`\n    };\n\n    const ScrollButton = () => {\n        const [showUp, setShowUp] = useState(false);\n        const [showDown, setShowDown] = useState(false);\n        const timer = useRef();\n\n        useEffect(() => {\n            const onscroll = throttle(() => {\n                if (timer.current) {\n                    clearTimeout(timer.current);\n                    timer.current = undefined;\n                }\n                const scrollTop = target.scrollTop;\n                setShowUp(scrollTop >= offset);\n                setShowDown(target.scrollHeight - scrollTop - target.clientHeight > offset);\n                timer.current = setTimeout(() => {\n                    setShowDown(false);\n                    setShowUp(false);\n                }, 1500);\n            }, 300);\n            document.addEventListener('scroll', onscroll);\n            return () => document.removeEventListener('scroll', onscroll);\n        }, []);\n\n        const onClick = (down) => {\n            document.documentElement.scrollTo({\n                top: down ? target.scrollHeight : 0,\n                behavior: 'smooth'\n            });\n        };\n\n        return h`\n            <div style=${{ backgroundColor: 'darkcyan', borderRadius: 4 }}>\n                ${showUp && h`<${Button} onClick=${() => onClick(false)}/>`}\n                ${showDown && h`<${Button} down onClick=${() => onClick(true)}/>`}\n            </div>\n        `;\n    };\n\n\n    const container = addElement({\n        tag: 'div', to: document.documentElement, attrs: {\n            style: `position:fixed;${config.h}:20px;${config.v}:20px;z-index:99999;`\n        }\n    });\n\n    render(h`<${ScrollButton} />`, container);\n});","synopsis":"快速回到顶部/底部","detail":"<p>为页面添加一个快速回到顶部/底部按钮</p><p><img src=\"data:image/png;base64,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\"></p>","configSchema":{"type":"object","properties":{"h":{"type":"string","title":"横向位置","enum":["left","right"]},"v":{"type":"string","title":"垂直位置","enum":["top","bottom"]}},"title":"按钮位置配置","required":["h","v"]},"defaultConfig":{"h":"right","v":"bottom"}},"hash":"6d9518937fcd3c5c480722fd12ff1ad4ff92668a"}
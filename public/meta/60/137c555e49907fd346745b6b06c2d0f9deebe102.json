{"type":"javascript","name":"到顶到底","version":"1","synopsis":"一键到达页面顶部/底部","tags":["工具脚本","其他脚本"],"detail":"<p>搬运自 <a rel=\"noopener noreferrer\" href=\"http://via-app.cn/#/pluginDetail/60\">Via 轻插件</a> ，作者 <a rel=\"noopener noreferrer\" href=\"http://via-app.cn/#/user/28\">Sky</a></p><p><br></p><p>对原脚本进行如下修改 ：</p><ul><li>修复运行时机问题</li></ul><p><br></p><p>以下是原版介绍：</p><p><br></p><h2><span style=\"background-color: rgb(240, 102, 102);\"> </span> 脚本作用：</h2><p><br></p><p>在页面左下角增加一键回到顶部或底部的快捷按钮。没有动画，直接到达。</p><p><br></p><h2><span style=\"background-color: rgb(240, 102, 102);\"> </span> 何时作用：</h2><p><br></p><p><strong style=\"color: rgb(240, 102, 102);\">基本通用</strong>，前提是等网页加载完成，这样脚本才能运行起来。</p><p><br></p><h2><span style=\"background-color: rgb(240, 102, 102);\"> </span> 测试链接：</h2><p><br></p><p><a style=\"color: rgb(240, 102, 102);\" rel=\"noopener noreferrer\" href=\"https://www.jquery123.com/\">点击进入测试页面</a></p><p><br></p><ul><li>注：大部分网页都可以进行测试，只需要<span style=\"color: var(--themeColor);\">在安装脚本后正常刷新一次</span>网页使得脚本起效。</li></ul><p><br></p><h2><span style=\"background-color: rgb(240, 102, 102);\"> </span> 可能存在的BUG：</h2><p><br></p><p>已知和<a style=\"color: rgb(240, 102, 102);\" rel=\"noopener noreferrer\" href=\"http://via-app.cn/\">via-app.cn</a>网站本身有兼容性问题，会导致滚动条控制不生效，其他网站也有可能遇到该问题。若有解决方案或其他建议欢迎反馈。</p><p><br></p><p>这个脚本使用了 Bext 的函数 runAt，</p><p>如需二次发布 ( 分享，搬运 等等 ) ，</p><p>需要在显著位置包含如下 MIT 许可文本:</p><p><br></p><pre spellcheck=\"false\" class=\"ql-syntax\">MIT License\nCopyright (c) 2022 ikkz\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\n</pre><p><br></p><p><br></p>","source":"/*\n * @name: 到顶到底\n * @Author: Sky\n * @version: 1.0.1\n * @description: 一键到达页面顶部/底部\n * @include: *\n * @createTime: 2020-9-22 13:00\n */\nimport { runAt } from '@bext/util';\nrunAt('document-end',() => {\n const key=encodeURIComponent('到顶到底:执行判断');\n if(window[key]){return;}\n try{\n  window[key]=true;\n  function s(i){window.scrollTo(0,i);}\n  const f=document.createElement('link');\n  f.rel='stylesheet';\n  f.href=\"data:text/css,@font-face{font-family:TandB;src:url('data:font/woff2;base64,d09GMgABAAAAAAKYAAoAAAAABcQAAAJLAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAABmAAgkoKgnyCMQsIAAE2AiQDDAQgBYI+ByAbvgTIjsJxr4SI0AxliGLAyxhKy8P/jzHv+4ZoMomaTBKHzCFSPUQyjUgTbZVMJpF1Wyi7fr+270zfv/OGSzJPXBNxTJMl1Ub8lhFNeGQ6oRBNhq7JHyl+AP7RJfb0NhzCML1tPI7iidum3D0cqLVrbXIJPnsoGaFVqKR7ziNwbX5hfKoNMUhaBoAYBABwcN4Vhivv1t0od/F/kTsvwhOAgDwCgBkIGRkTENjDFZjAMws0RUiLDP//AP4HHqRjiwIgGth0ZjZ53QvgCoACkiQVXiEuIKR8Oc8qrZKpLZea8Ga3ZF63rYtux7R+R7qgtfAlhVtaPePZdipbHftD2xI8r9mESzKf2KHHMIQhHPGtvKSjEN9c4ib7sR3Z7GhDC3QOTU+6XWkOhamX7Mfoo9q3HqYf03V1p5gnCg5a6utopZI5xpj8+qQxtQ9/KErJfn93HQ0IB+e+gKKwhaAoAlvA8sei9qPzdOb0RCkcCFm+v9jGcyIE8/l5ipX0CcandXWWQEic8PPDgo2gLY7o1j5McDkABIJ/xkA+5c6rSMoDeG82uflh6v8r+ZCbB6BTAsFuVl47SJirTO1xjlHIydfUnT+EkK3jsB+11w0ECBUBkqYKkFU9AhTVIASqKVoINNUyrihiCN02MpD02gVZt32oYIeg2hFc0nR7MQd6w+2fgPGE98UzSVddUdXwX7pwVcktGk0vbj8RzAJ6hbUziQhLGJFpmJiQdddBQxL69MpSrUKVBlm6cT6sa6o6DBosi4x2zxZvsAguYOkoAAAAAA')}%23sky-scrolltop,%23sky-scrolltbtm{font-family:TandB!important;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;line-height:1;font-size:16px;padding:5px;background:%23222;border-radius:6px}\";\n  document.head.append(f);\n  const d=document.createElement('div');\n  d.innerHTML='<div id=\"sky-scrolltop\">顶</div><div id=\"sky-scrolltbtm\" style=\"margin-top:18px;\">底</div>';\n  d.style='position:fixed;left:15px;bottom:20%;z-index:999999;color:#eee;user-select:none;opacity:0.6;';\n  document.body.append(d);\n  document.getElementById('sky-scrolltop').onclick=()=>{s(0)};\n  document.getElementById('sky-scrolltbtm').onclick=()=>{s(document.body.scrollHeight)};\n } catch(err){console.log('到顶到底：',err);}\n});"}